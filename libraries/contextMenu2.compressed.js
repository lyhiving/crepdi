(function(c){c.fn.contextMenu=function(b){b=b||{};var d=b.target||document,e=b.speed||0,f=b.effect||false,g=b.options||{},h=b.callback||function(){},i=b.allowOriginal===undefined?true:false;this.hide().css("position","absolute");d=d.nodeType?c(d):d;this.bind("contextMenu.close",b.close||function(){});d.bind("contextmenu",{menu:this,speed:e,effect:f,options:g,allow:i,call:h,beforeShow:b.show||function(){}},function(a){a.data.menu.hide();var j=a.data.effect?[a.data.effect,a.data.options,a.data.speed,
a.data.call]:[a.data.speed,a.data.call];a.data.menu.data("contextMenu-beforeCall",a.data.beforeShow);a.data.menu.each(function(){c(this).data("contextMenu-beforeCall").call(this)});a.data.menu.show.apply(a.data.menu,j).css("left",a.clientX).css("top",a.clientY);if(a.data.allow)return false});c(document).click({menu:this,onclose:b.close||function(){}},function(a){a.data.menu.data("contextMenu-closeCall",a.data.onclose);a.data.menu.each(function(){c(this).data("contextMenu-closeCall").call(this)})});
this.click(function(a){a.stopPropagation()})}})(jQuery);